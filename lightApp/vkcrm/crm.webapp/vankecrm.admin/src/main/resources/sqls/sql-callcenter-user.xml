<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<comment>使用KISS 框架的简单示例</comment>

	<!--根据userId获取用户信息，包括用户组织信息-->
	<entry key="callcenter.user.get.userinfo">
		SELECT SE.ID,
		       SE.NAME,
		       SE.TYPE,
		       SE.LOGIN_ID,
		       SE.PASSWORD,
		       SE.EMAIL,
		       SE.MOBILE_PHONE,
		       SE.IM,
		       SE.TELEPHONE,
		       SE.SEX,
		       SE.BIRTHDAY,
		       SE.STATUS,
		       SE.ORG_ID,
		       CASE
		         WHEN SE.TYPE = 'local' THEN
		          '本地用户'
		         ELSE
		          'Portal用户'
		       END AS TYPE_NAME,
		       SO.NAME ORG_NAME
		FROM   SEC_USER         SE,
		       SEC_ORGANIZATION SO
		WHERE  SE.ORG_ID = SO.ID
		AND    SE.ID = ?
	</entry>
	
	<!-- 用户账号检查（考虑新增用户时） -->
	<entry key="callcenter.user.checkAccount">
			SELECT count(*) FROM SEC_USER UU WHERE UU.LOGIN_ID = ?
	</entry>
	
	<!-- 用户账号检查 （考虑修改用户时）-->
	<entry key="callcenter.user.checkAccountForUpdate">
	<![CDATA[
		SELECT COUNT(*) FROM SEC_USER UU WHERE UU.LOGIN_ID = ? AND UU.ID <> ?
	]]>
	</entry>
</properties>