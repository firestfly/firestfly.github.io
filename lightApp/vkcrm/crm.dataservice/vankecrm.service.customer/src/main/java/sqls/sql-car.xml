<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
    <comment>客户车辆sql</comment>

    <!-- 根据客户id查询车辆信息-->
    <entry key="sql.query.cars">
        <![CDATA[
		SELECT
            c.id,
            c.customerId,
            c.licenseNumber,
            c.buyTime,
            c.brand,
            c.color,
            c.status
        FROM
            dim_cust_cars AS c
        WHERE
            c.customerId = #customerId#
        AND
        	c.isDeleted = 0
	    ]]>
    </entry>

    <!-- 根据车辆id查询车辆信息-->
    <entry key="sql.query.car">
        <![CDATA[
		SELECT
            c.id,
            c.customerId,
            c.licenseNumber,
            c.buyTime,
            c.brand,
            c.color,
            c.status
        FROM
            dim_cust_cars AS c
        WHERE
            c.id = #carId#
        AND
        	c.isDeleted = 0
            LIMIT 1
	    ]]>
    </entry>

	<!--新增车辆信息-->
    <entry key="sql.insert.car">
        <![CDATA[
        INSERT INTO `dim_cust_cars`
        (`id`, `customerId`,`licenseNumber`,`buyTime`,`brand`,
            `color`,`status`,`creator`,`creatorId`,`createTime`,`isDeleted`)
        VALUES
        (#id#, #customerId#, #licenseNumber#, #buyTime#,
        #brand#,
        #color#,
        #status#,
        #creator#, #creatorId#, now(),0);
        ]]>
    </entry>

    <!--更新车辆信息-->
    <entry key="sql.update.car">
        <![CDATA[
        UPDATE dim_cust_cars
        SET
            {? licenseNumber = #licenseNumber#, }
            buyTime = #buyTime#,
            brand = #brand#,
            color = #color#,
            {? status = #status#, }
            modifier = #user#,
            modifierId = #userId#,
            modifyTime = now()
        WHERE id = #id#
        ]]>
    </entry>
    
    <!--删除车辆信息-->
    <entry key="sql.delete.car">
        <![CDATA[
			UPDATE 
				dim_cust_cars 
			SET 
				isDeleted = 1
			WHERE 
				id = #id#
        ]]>
    </entry>
</properties>
