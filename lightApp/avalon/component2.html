<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>ms-data</title>
    <script src="dist/avalon.js"></script>
    <script>
        var vm = avalon.define({
            $id: "test"
        })
        avalon.libraries.ms.$childReady = function (vm, e) {
            //var child = e.vm
            //vm.$refs[child.$id] = vm
        }

        avalon.component("ms:ancestor", {
            a: 111,
            $ready: function () {
                console.log("ancestor构建完成")
            },
            $template: "<div><ms:parent></ms:parent>{{a}}<ms:parent></ms:parent></div>"
        })
        avalon.component("ms:parent", {
            p: 222,
            $ready: function () {
                console.log("parent构建完成")
            },
            $template: "<div><ms:son></ms:son>{{p}}<ms:son></ms:son></div>"
        })
        avalon.component("ms:son", {
            s: 333,
            $ready: function () {
                console.log("son构建完成")
            },
            $template: "<strong>{{s}}</strong>"
        })

    </script>
    <style>
        div {
            height: 50px;
            width: 200px;
            background: green;
            margin: 5px;
        }
    </style>
</head>

<body>
<div ms-controller="test">
    <ms:ancestor $id="pope"/>
</div>
</body>

</html>
