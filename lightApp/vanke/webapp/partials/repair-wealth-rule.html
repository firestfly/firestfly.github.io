<div class="container-fluid authority-container">
    <div class="row">
        <div data-common-search-bar data-week-range="true" data-hide-export-btn="true"
             data-hide-groups="true" data-hide-date-range="true"
             data-hide-search-input="true" data-operation-buttons="operation-buttons"
             data-is-first-row-opt-btn=true></div>
    </div>

    <div class="table-responsive">
        <table id="" class="table table-bordered table-striped table-condensed">
            <thead>
            <tr>
                <th rowspan="2" class="col-xs-1">项目名称</th>
                <th rowspan="2" class=" col-xs-1"><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                                       ng-click="rc.modifyCoefficient('财富值转换系数:repairWealthCoefficient')"/>财富值转换系数
                </th>
                <th colspan="6" class="col-xs-5">评价系数</th>
                <th colspan="3" class="col-xs-4">类型调节系数</th>
                <th colspan="2" class="col-xs-1" ng-show="rowform.$visible"></th>
            </tr>
            <tr>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,一星:assessmentCoefficient.oneStarPoint')"/>一星
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,二星:assessmentCoefficient.twoStarPoint')"/>二星
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,三星:assessmentCoefficient.threeStarPoint')"/>三星
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,四星:assessmentCoefficient.fourStarPoint')"/>四星
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,五星:assessmentCoefficient.fiveStarPoint')"/>五星
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('评价系数,未评价:assessmentCoefficient.nonAssessment')"/>未评价
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('类型调节系数,家政已收费:typeCoefficient.houseKeepingCharged')"/>家政已收费
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('类型调节系数,家政未收费:typeCoefficient.houseKeepingUncharged')"/>家政未收费
                </th>
                <th class=""><img src="images/icon-edit.png" alt="" class="wealth-editicon"
                                  ng-click="rc.modifyCoefficient('类型调节系数,公共维修工单:typeCoefficient.publicRepairOrder')"/>公共维修工单
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="d in rc.data" ng-dblclick="rowform.$show()">
                <td class="vk-nowrap">{{d.departmentName}}</td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.repairWealthCoefficient"
                              e-name="repairWealthCoefficient" e-form="rowform" e-step="0.01" e-type="number" e-min="0"
                              e-max="10">
                            {{d.repairWealthCoefficient}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.oneStarPoint"
                              e-name="assessmentCoefficient.oneStarPoint" e-form="rowform" e-step="0.01" e-type="number"
                              e-min="0" e-max="10">
                            {{d.assessmentCoefficient.oneStarPoint}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.twoStarPoint"
                              e-name="assessmentCoefficient.twoStarPoint" e-form="rowform" e-step="0.01" e-type="number"
                              e-min="0" e-max="10">
                            {{d.assessmentCoefficient.twoStarPoint}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.threeStarPoint"
                              e-name="assessmentCoefficient.threeStarPoint" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.assessmentCoefficient.threeStarPoint}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.fourStarPoint"
                              e-name="assessmentCoefficient.fourStarPoint" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.assessmentCoefficient.fourStarPoint}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.fiveStarPoint"
                              e-name="assessmentCoefficient.fiveStarPoint" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.assessmentCoefficient.fiveStarPoint}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.assessmentCoefficient.nonAssessment"
                              e-name="assessmentCoefficient.nonAssessment" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.assessmentCoefficient.nonAssessment}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.typeCoefficient.houseKeepingCharged"
                              e-name="typeCoefficient.houseKeepingCharged" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.typeCoefficient.houseKeepingCharged}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.typeCoefficient.houseKeepingUncharged"
                              e-name="typeCoefficient.houseKeepingUncharged" e-form="rowform" e-step="0.01"
                              e-type="number" e-min="0" e-max="10">
                            {{d.typeCoefficient.houseKeepingUncharged}}
                        </span>
                </td>
                <td>
                        <span onbeforesave="rc.checkdata($data)" editable-text="d.typeCoefficient.publicRepairOrder"
                              e-name="typeCoefficient.publicRepairOrder" e-form="rowform" e-step="0.01" e-type="number"
                              e-min="0" e-max="10">
                            {{d.typeCoefficient.publicRepairOrder}}
                        </span>
                </td>
                <td style="white-space: nowrap" ng-show="rowform.$visible">
                    <!-- form -->
                    <form editable-form name="rowform" onbeforesave="rc.save($data,d.departmentId)"
                          ng-show="rowform.$visible" class="form-buttons form-inline">
                        <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
                            保存
                        </button>
                        <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()"
                                class="btn btn-default">
                            取消
                        </button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="container-fluid">
    <div common-pagination></div>
</div>

<script type="text/ng-template" id="modifyCofficient.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancle()"><span
                aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">{{title}}</h4>

        <div class="modal-title subtitle">{{subtitle}}</div>
    </div>
    <div class="modal-body">
        <form action="" name="modalform">
            <input type="number" class="form-control" ng-model="val" min="0" max="10" step="0.01" ng-pattern="reg"/>

            <div class="has-error">
                <p class=" help-block" ng-show="modalform.$invalid">请输入0-10之间的数值,最多2位小数。</p>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn vk-btn-default" ng-click="ok()">确定</button>
        <button type="button" class="btn vk-btn-relax" ng-click="cancle()">取消</button>
    </div>
</script>
