<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>ms-data</title>
    <script src="dist/avalon.js"></script>
    <script>
        var model = avalon.define({
            $id: "ms-duplex-5",
            rows: {
                name: 'a',
                age: 45
            },
            text: "OO",
            arr: [{
                name: "55"
            }],
            selected: [],
            array: [{
                name: "小明",
                id: 132213213
            }, {
                name: "小三",
                id: 576576657
            }, {
                name: "小红",
                id: 354435435
            }, {
                name: "小白",
                id: 354435435
            }],
            textarea: {
                get: function () {
                    return this.selected.join("\n")
                }
            },
            log: function () {
                if (window.JSON && JSON.stringify) {
                    var value = model.$model
                    document.getElementById("ms-duplex-show-json").value = JSON.stringify(value, 4, "\t")
                }
            }
        });
    </script>
    <style>
        .panel {
            width: 80%;
            height: 100px;
            border: 1px solid #ccc;
        }

    </style>
</head>

<body>
<fieldset ms-controller="ms-duplex-5">
    <table class="shim-table">
        <tr ms-repeat-row='rows'>
            <td>
                {{$key}}: {{$val}}
                <input ms-duplex="$val">
            </td>
        </tr>
    </table>
    <ul>
        <li ms-repeat="arr">{{el.name}}
            <input ms-duplex="el.name">
        </li>
    </ul>
    <p>text:
        <input ms-duplex="text"/>
    </p>
    <p>
        <button ms-click="log">打印出来</button>
    </p>
    <textarea id="ms-duplex-show-json" style="width:60%;height:210px;"></textarea>
    <br>
    <ul>
        <li ms-repeat="array">
            <input ms-duplex-string="selected" ms-attr-value="el.name" type="checkbox">{{el.name}} {{el.id}}
        </li>
    </ul>
    <textarea ms-attr-value="textarea" placeholder="这里只能单向同步">
        </textarea>
</fieldset>
</body>

</html>
